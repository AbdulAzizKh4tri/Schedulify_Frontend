<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Generate Timetable</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body { background: #f8f9fb; }
        .card-tile { border-radius: 14px; padding: 20px; background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .table thead th { background: #212529; color: white; }
        .summary-section { margin-bottom: 30px; }
        .btn-generate { font-weight: bold; font-size: 1.1rem; }
        .error-msg { color: red; font-weight: bold; }
        .timer { font-weight: bold; font-size: 1rem; }
    </style>

    <script src="utils.js"></script>
</head>
<body>

<nav class="navbar navbar-dark bg-dark p-2">
    <div class="container-fluid">
        <a class="btn btn-outline-light" href="dashboard_admin.html">‚Üê Back</a>
        <span class="navbar-brand ms-3">Generate Timetable</span>
        <button class="btn btn-danger ms-auto" onclick="logout()">Logout</button>
    </div>
</nav>

<div class="container mt-4">

    <div class="text-center mt-4">
        <label for="timeoutInput">Timeout (seconds): </label>
        <input type="number" id="timeoutInput" class="form-control d-inline-block" style="width:100px;" value="60">
        <br><br>
        <button class="btn btn-success btn-lg btn-generate" id="generateBtn">Generate Timetable</button>
        <p class="mt-2 timer" id="timerDisplay">Time elapsed: 0s</p>
        <p class="mt-3 error-msg" id="errorMsg"></p>
    </div>

    <div class="summary-section">
        <h4>Database Summary</h4>

        <div class="row" id="totalCounts"></div>

        <div class="row mt-3">
            <div class="col-md-6">
                <h5>Departments</h5>
                <div class="table-responsive">
                    <table class="table table-bordered text-center" id="deptSummary">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th># Teachers</th>
                                <th># Subjects</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="col-md-6">
                <h5>Subjects</h5>
                <div class="table-responsive">
                    <table class="table table-bordered text-center" id="subjectSummary">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th># Teachers</th>
                                <th># Divisions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="generate_timetable.js"></script>

</body>
</html>
